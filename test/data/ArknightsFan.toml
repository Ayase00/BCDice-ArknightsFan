##############
### AD判定 ###
##############
[[ test ]]
game_system = "ArknightsFan"
input = "AD<=70"
output = "(AD<=70) ＞ 50 ＞ 成功"
success = true
rands = [
  { sides = 100, value = 50 },
]

[[ test ]]
game_system = "ArknightsFan"
input = "AD100<=70"
output = "(AD100<=70) ＞ 50 ＞ 成功"
success = true
rands = [
  { sides = 100, value = 50 },
]

[[ test ]]
game_system = "ArknightsFan"
input = "1AD<=70"
output = "(1AD<=70) ＞ 50 ＞ 成功"
success = true
rands = [
  { sides = 100, value = 50 },
]

[[ test ]]
game_system = "ArknightsFan"
input = "1AD100<=70"
output = "(1AD100<=70) ＞ 50 ＞ 成功"
success = true
rands = [
  { sides = 100, value = 50 },
]

[[ test ]]
game_system = "ArknightsFan"
input = "AD<=70"
output = "(AD<=70) ＞ 10 ＞ クリティカル！"
critical = true
success = true
rands = [
  { sides = 100, value = 10 },
]

[[ test ]]
game_system = "ArknightsFan"
input = "AD<=70"
output = "(AD<=70) ＞ 91 ＞ エラー"
fumble = true
failure = true
rands = [
  { sides = 100, value = 91 },
]

[[ test ]]
game_system = "ArknightsFan"
input = "AD<=99"
output = "(AD<=99) ＞ 95 ＞ 成功"
success = true
rands = [
  { sides = 100, value = 95 },
]

[[ test ]]
game_system = "ArknightsFan"
input = "AD<=5"
output = "(AD<=5) ＞ 9 ＞ 失敗"
failure = true
rands = [
  { sides = 100, value = 9 },
]

[[ test ]]
game_system = "ArknightsFan"
input = "AD<=10+20"
output = "(AD<=10+20) ＞ 30 ＞ 成功"
success = true
rands = [
  { sides = 100, value = 30 },
]

[[ test ]]
game_system = "ArknightsFan"
input = "AD<=40-10"
output = "(AD<=40-10) ＞ 30 ＞ 成功"
success = true
rands = [
  { sides = 100, value = 30 },
]

[[ test ]]
game_system = "ArknightsFan"
input = "AD<=20*2"
output = "(AD<=20*2) ＞ 40 ＞ 成功"
success = true
rands = [
  { sides = 100, value = 40 },
]

[[ test ]]
game_system = "ArknightsFan"
input = "AD<=69/5"
output = "(AD<=69/5) ＞ 13 ＞ 成功"
success = true
rands = [
  { sides = 100, value = 13 },
]

[[ test ]]
game_system = "ArknightsFan"
input = "AD<=69/5"
output = "(AD<=69/5) ＞ 14 ＞ 失敗"
failure = true
rands = [
  { sides = 100, value = 14 },
]

##############
### AB判定 ###
##############
[[ test ]]
game_system = "ArknightsFan"
input = "AB<=70"
output = "(AB<=70) ＞ [50] ＞ 1+0C-0E ＞ 成功数1"
success = true
rands = [
  { sides = 100, value = 50 },
]

[[ test ]]
game_system = "ArknightsFan"
input = "1AB<=70"
output = "(1AB<=70) ＞ [50] ＞ 1+0C-0E ＞ 成功数1"
success = true
rands = [
  { sides = 100, value = 50 },
]

[[ test ]]
game_system = "ArknightsFan"
input = "AB100<=70"
output = "(AB100<=70) ＞ [50] ＞ 1+0C-0E ＞ 成功数1"
success = true
rands = [
  { sides = 100, value = 50 },
]

[[ test ]]
game_system = "ArknightsFan"
input = "1AB100<=70"
output = "(1AB100<=70) ＞ [50] ＞ 1+0C-0E ＞ 成功数1"
success = true
rands = [
  { sides = 100, value = 50 },
]

[[ test ]]
game_system = "ArknightsFan"
input = "3AB100<=70"
output = "(3AB100<=70) ＞ [50,50,90] ＞ 2+0C-0E ＞ 成功数2"
success = true
rands = [
  { sides = 100, value = 90 },
  { sides = 100, value = 50 },
  { sides = 100, value = 50 },
]

[[ test ]]
game_system = "ArknightsFan"
input = "3AB<=70"
output = "(3AB<=70) ＞ [50,50,90] ＞ 2+0C-0E ＞ 成功数2"
success = true
rands = [
  { sides = 100, value = 90 },
  { sides = 100, value = 50 },
  { sides = 100, value = 50 },
]

[[ test ]]
game_system = "ArknightsFan"
input = "3AB100<=70 いろは"
output = "(3AB100<=70) ＞ [50,50,90] ＞ 2+0C-0E ＞ 成功数2"
success = true
rands = [
  { sides = 100, value = 90 },
  { sides = 100, value = 50 },
  { sides = 100, value = 50 },
]

[[ test ]]
game_system = "ArknightsFan"
input = "3AB100<=70"
output = "(3AB100<=70) ＞ [50,50,91] ＞ 2+0C-1E ＞ 成功数1"
fumble = true
success = true
rands = [
  { sides = 100, value = 91 },
  { sides = 100, value = 50 },
  { sides = 100, value = 50 },
]

[[ test ]]
game_system = "ArknightsFan"
input = "3AB100<=70"
output = "(3AB100<=70) ＞ [50,50,100] ＞ 2+0C-1E ＞ 成功数1"
fumble = true
success = true
rands = [
  { sides = 100, value = 100 },
  { sides = 100, value = 50 },
  { sides = 100, value = 50 },
]

[[ test ]]
game_system = "ArknightsFan"
input = "3AB100<=70"
output = "(3AB100<=70) ＞ [10,50,100] ＞ 2+1C-1E ＞ 成功数2"
critical = true
fumble = true
success = true
rands = [
  { sides = 100, value = 100 },
  { sides = 100, value = 50 },
  { sides = 100, value = 10 },
]

[[ test ]]
game_system = "ArknightsFan"
input = "3AB100<=5"
output = "(3AB100<=5) ＞ [9,10,11] ＞ 0+0C-0E ＞ 成功数0"
failure = true
rands = [
  { sides = 100, value = 9 },
  { sides = 100, value = 10 },
  { sides = 100, value = 11 },
]

[[ test ]]
game_system = "ArknightsFan"
input = "3AB100<=5"
output = "(3AB100<=5) ＞ [5,10,11] ＞ 1+1C-0E ＞ 成功数2"
critical = true
success = true
rands = [
  { sides = 100, value = 5 },
  { sides = 100, value = 10 },
  { sides = 100, value = 11 },
]

[[ test ]]
game_system = "ArknightsFan"
input = "3AB100<=95"
output = "(3AB100<=95) ＞ [90,95,96] ＞ 2+0C-1E ＞ 成功数1"
fumble = true
success = true
rands = [
  { sides = 100, value = 90 },
  { sides = 100, value = 95 },
  { sides = 100, value = 96 },
]

[[ test ]]
game_system = "ArknightsFan"
input = "4AB100<=60"
output = "(4AB100<=60) ＞ [1,1,100,100] ＞ 2+2C-2E ＞ 成功数2"
critical = true
fumble = true
success = true
rands = [
  { sides = 100, value = 100 },
  { sides = 100, value = 100 },
  { sides = 100, value = 1 },
  { sides = 100, value = 1 },
]

[[ test ]]
game_system = "ArknightsFan"
input = "4AB100<=60"
output = "(4AB100<=60) ＞ [1,50,100,100] ＞ 2+1C-2E ＞ 成功数1"
critical = true
fumble = true
success = true
rands = [
  { sides = 100, value = 100 },
  { sides = 100, value = 100 },
  { sides = 100, value = 50 },
  { sides = 100, value = 1 },
]

[[ test ]]
game_system = "ArknightsFan"
input = "4AB100<=60"
output = "(4AB100<=60) ＞ [1,70,100,100] ＞ 1+1C-2E ＞ 成功数0"
critical = true
fumble = true
failure = true
rands = [
  { sides = 100, value = 100 },
  { sides = 100, value = 100 },
  { sides = 100, value = 70 },
  { sides = 100, value = 1 },
]

[[ test ]]
game_system = "ArknightsFan"
input = "4AB100<=60"
output = "(4AB100<=60) ＞ [50,50,100,100] ＞ 2+0C-2E ＞ 成功数0"
fumble = true
failure = true
rands = [
  { sides = 100, value = 100 },
  { sides = 100, value = 100 },
  { sides = 100, value = 50 },
  { sides = 100, value = 50 },
]

[[ test ]]
game_system = "ArknightsFan"
input = "4AB100<=60"
output = "(4AB100<=60) ＞ [50,70,100,100] ＞ 1+0C-2E ＞ 成功数-1"
fumble = true
failure = true
rands = [
  { sides = 100, value = 100 },
  { sides = 100, value = 100 },
  { sides = 100, value = 70 },
  { sides = 100, value = 50 },
]

[[ test ]]
game_system = "ArknightsFan"
input = "4AB100<=60"
output = "(4AB100<=60) ＞ [70,70,100,100] ＞ 0+0C-2E ＞ 成功数-2"
fumble = true
failure = true
rands = [
  { sides = 100, value = 100 },
  { sides = 100, value = 100 },
  { sides = 100, value = 70 },
  { sides = 100, value = 70 },
]

[[ test ]]
game_system = "ArknightsFan"
input = "4AB100<=60"
output = "(4AB100<=60) ＞ [1,1,70,100] ＞ 2+2C-1E ＞ 成功数3"
critical = true
fumble = true
success = true
rands = [
  { sides = 100, value = 100 },
  { sides = 100, value = 70 },
  { sides = 100, value = 1 },
  { sides = 100, value = 1 },
]

[[ test ]]
game_system = "ArknightsFan"
input = "4AB100<=60"
output = "(4AB100<=60) ＞ [1,1,50,100] ＞ 3+2C-1E ＞ 成功数4"
critical = true
fumble = true
success = true
rands = [
  { sides = 100, value = 100 },
  { sides = 100, value = 50 },
  { sides = 100, value = 1 },
  { sides = 100, value = 1 },
]

[[ test ]]
game_system = "ArknightsFan"
input = "4AB100<=60"
output = "(4AB100<=60) ＞ [1,1,50,70] ＞ 3+2C-0E ＞ 成功数5"
critical = true
success = true
rands = [
  { sides = 100, value = 70 },
  { sides = 100, value = 50 },
  { sides = 100, value = 1 },
  { sides = 100, value = 1 },
]

[[ test ]]
game_system = "ArknightsFan"
input = "2+2AB100<=60"
output = "(2+2AB100<=60) ＞ [1,1,50,50] ＞ 4+2C-0E ＞ 成功数6"
critical = true
success = true
rands = [
  { sides = 100, value = 50 },
  { sides = 100, value = 50 },
  { sides = 100, value = 1 },
  { sides = 100, value = 1 },
]

[[ test ]]
game_system = "ArknightsFan"
input = "2*2AB<=60"
output = "(2*2AB<=60) ＞ [1,1,50,50] ＞ 4+2C-0E ＞ 成功数6"
critical = true
success = true
rands = [
  { sides = 100, value = 50 },
  { sides = 100, value = 50 },
  { sides = 100, value = 1 },
  { sides = 100, value = 1 },
]

[[ test ]]
game_system = "ArknightsFan"
input = "6-2AB100<=60"
output = "(6-2AB100<=60) ＞ [1,1,50,50] ＞ 4+2C-0E ＞ 成功数6"
critical = true
success = true
rands = [
  { sides = 100, value = 50 },
  { sides = 100, value = 50 },
  { sides = 100, value = 1 },
  { sides = 100, value = 1 },
]

[[ test ]]
game_system = "ArknightsFan"
input = "9/2AB100<=60"
output = "(9/2AB100<=60) ＞ [1,1,50,50] ＞ 4+2C-0E ＞ 成功数6"
critical = true
success = true
rands = [
  { sides = 100, value = 50 },
  { sides = 100, value = 50 },
  { sides = 100, value = 1 },
  { sides = 100, value = 1 },
]

[[ test ]]
game_system = "ArknightsFan"
input = "AB<=10+20"
output = "(AB<=10+20) ＞ [30] ＞ 1+0C-0E ＞ 成功数1"
success = true
rands = [
  { sides = 100, value = 30 },
]

[[ test ]]
game_system = "ArknightsFan"
input = "AB<=40-10"
output = "(AB<=40-10) ＞ [30] ＞ 1+0C-0E ＞ 成功数1"
success = true
rands = [
  { sides = 100, value = 30 },
]

[[ test ]]
game_system = "ArknightsFan"
input = "AB<=20*2"
output = "(AB<=20*2) ＞ [40] ＞ 1+0C-0E ＞ 成功数1"
success = true
rands = [
  { sides = 100, value = 40 },
]

[[ test ]]
game_system = "ArknightsFan"
input = "AB<=69/5"
output = "(AB<=69/5) ＞ [13] ＞ 1+0C-0E ＞ 成功数1"
success = true
rands = [
  { sides = 100, value = 13 },
]

[[ test ]]
game_system = "ArknightsFan"
input = "AB<=69/5"
output = "(AB<=69/5) ＞ [14] ＞ 0+0C-0E ＞ 成功数0"
failure = true
rands = [
  { sides = 100, value = 14 },
]

######################
### 役職付きAB判定 ###
######################
[[ test ]]
game_system = "ArknightsFan"
input = "AB<=70--Sniper"
output = "(AB<=70--SNIPER) ＞ [50] ＞ 1+0C-0E+1(SNIPER) ＞ 成功数2"
success = true
rands = [
  { sides = 100, value = 50 },
]

[[ test ]]
game_system = "ArknightsFan"
input = "1AB<=70--Sniper"
output = "(1AB<=70--SNIPER) ＞ [50] ＞ 1+0C-0E+1(SNIPER) ＞ 成功数2"
success = true
rands = [
  { sides = 100, value = 50 },
]

[[ test ]]
game_system = "ArknightsFan"
input = "AB100<=70--Sniper"
output = "(AB100<=70--SNIPER) ＞ [50] ＞ 1+0C-0E+1(SNIPER) ＞ 成功数2"
success = true
rands = [
  { sides = 100, value = 50 },
]

[[ test ]]
game_system = "ArknightsFan"
input = "1AB100<=70--Sniper"
output = "(1AB100<=70--SNIPER) ＞ [50] ＞ 1+0C-0E+1(SNIPER) ＞ 成功数2"
success = true
rands = [
  { sides = 100, value = 50 },
]

[[ test ]]
game_system = "ArknightsFan"
input = "3AB100<=70--Sniper"
output = "(3AB100<=70--SNIPER) ＞ [50,50,90] ＞ 2+0C-0E+1(SNIPER) ＞ 成功数3"
success = true
rands = [
  { sides = 100, value = 90 },
  { sides = 100, value = 50 },
  { sides = 100, value = 50 },
]

[[ test ]]
game_system = "ArknightsFan"
input = "3AB100<=70--Sniper"
output = "(3AB100<=70--SNIPER) ＞ [50,80,91] ＞ 1+0C-1E+0(SNIPER) ＞ 成功数0"
fumble = true
failure = true
rands = [
  { sides = 100, value = 91 },
  { sides = 100, value = 50 },
  { sides = 100, value = 80 },
]

[[ test ]]
game_system = "ArknightsFan"
input = "3AB100<=70--Sniper あ"
output = "(3AB100<=70--SNIPER) ＞ [50,50,90] ＞ 2+0C-0E+1(SNIPER) ＞ 成功数3"
success = true
rands = [
  { sides = 100, value = 90 },
  { sides = 100, value = 50 },
  { sides = 100, value = 50 },
]

[[ test ]]
game_system = "ArknightsFan"
input = "AB<=70--Sniper0"
output = "(AB<=70--SNIPER0) ＞ [50] ＞ 1+0C-0E ＞ 成功数1"
success = true
rands = [
  { sides = 100, value = 50 },
]

[[ test ]]
game_system = "ArknightsFan"
input = "1AB<=70--Sniper0"
output = "(1AB<=70--SNIPER0) ＞ [50] ＞ 1+0C-0E ＞ 成功数1"
success = true
rands = [
  { sides = 100, value = 50 },
]

[[ test ]]
game_system = "ArknightsFan"
input = "AB100<=70--Sniper0"
output = "(AB100<=70--SNIPER0) ＞ [50] ＞ 1+0C-0E ＞ 成功数1"
success = true
rands = [
  { sides = 100, value = 50 },
]

[[ test ]]
game_system = "ArknightsFan"
input = "1AB100<=70--Sniper0"
output = "(1AB100<=70--SNIPER0) ＞ [50] ＞ 1+0C-0E ＞ 成功数1"
success = true
rands = [
  { sides = 100, value = 50 },
]

[[ test ]]
game_system = "ArknightsFan"
input = "3AB100<=70--Sniper0"
output = "(3AB100<=70--SNIPER0) ＞ [50,50,90] ＞ 2+0C-0E ＞ 成功数2"
success = true
rands = [
  { sides = 100, value = 90 },
  { sides = 100, value = 50 },
  { sides = 100, value = 50 },
]

[[ test ]]
game_system = "ArknightsFan"
input = "3AB100<=70--Sniper1"
output = "(3AB100<=70--SNIPER1) ＞ [50,50,90] ＞ 2+0C-0E+1(SNIPER) ＞ 成功数3"
success = true
rands = [
  { sides = 100, value = 90 },
  { sides = 100, value = 50 },
  { sides = 100, value = 50 },
]

[[ test ]]
game_system = "ArknightsFan"
input = "ORP(60,25)"
output = "(ORP(60,25)) ＞ ダイス数2, 判定値35 ＞ [35,50] ＞ 成功"
success = true
rands = [
  { sides = 100, value = 35 },
  { sides = 100, value = 50 },
]

###############
### ORP判定 ###
###############
# ルルブp.32 例1, 成功例
[[ test ]]
game_system = "ArknightsFan"
input = "ORP(70,25)"
output = "(ORP(70,25)) ＞ ダイス数2, 判定値35 ＞ [35,50] ＞ 成功"
success = true
rands = [
  { sides = 100, value = 35 },
  { sides = 100, value = 50 },
]

# ルルブp. 32 例1, 失敗例
[[ test ]]
game_system = "ArknightsFan"
input = "ORP(70,25)"
output = "(ORP(70,25)) ＞ ダイス数2, 判定値35 ＞ [36,50] ＞ 失敗"
failure = true
rands = [
  { sides = 100, value = 36 },
  { sides = 100, value = 50 },
]

# ルルブp. 32 例1, 自動失敗例
[[ test ]]
game_system = "ArknightsFan"
input = "ORP(90,68)"
output = "(ORP(90,68)) ＞ ダイス数3, 判定値-20 ＞ 自動失敗！"
failure = true
rands = [
]

# 判定値補正
[[ test ]]
game_system = "ArknightsFan"
input = "ORP(70,25,10)"
output = "(ORP(70,25,10)) ＞ ダイス数2, 判定値45 ＞ [45,50] ＞ 成功"
success = true
rands = [
  { sides = 100, value = 45 },
  { sides = 100, value = 50 },
]

# ダイス数補正
[[ test ]]
game_system = "ArknightsFan"
input = "ORP(70,25)+2D"
output = "(ORP(70,25)+2D) ＞ ダイス数4, 判定値35 ＞ [35,50,100,100] ＞ 成功"
success = true
rands = [
  { sides = 100, value = 35 },
  { sides = 100, value = 50 },
  { sides = 100, value = 100 },
  { sides = 100, value = 100 },
]

# 生理的耐性: 欠落
[[ test ]]
game_system = "ArknightsFan"
input = "ORP(20,25)"
output = "(ORP(20,25)) ＞ ダイス数1, 判定値35 ＞ [35] ＞ 成功"
success = true
rands = [
  { sides = 100, value = 35 },
]

# 生理的耐性: 普通
[[ test ]]
game_system = "ArknightsFan"
input = "ORP(40,25)"
output = "(ORP(40,25)) ＞ ダイス数2, 判定値35 ＞ [35,50] ＞ 成功"
success = true
rands = [
  { sides = 100, value = 35 },
  { sides = 100, value = 50 },
]

# 生理的耐性: 優秀
[[ test ]]
game_system = "ArknightsFan"
input = "ORP(90,25)"
output = "(ORP(90,25)) ＞ ダイス数3, 判定値35 ＞ [35,50,100] ＞ 成功"
success = true
rands = [
  { sides = 100, value = 35 },
  { sides = 100, value = 50 },
  { sides = 100, value = 100 },
]

# 生理的耐性: 卓越
[[ test ]]
game_system = "ArknightsFan"
input = "ORP(100,25)"
output = "(ORP(100,25)) ＞ ダイス数4, 判定値35 ＞ [35,50,100,100] ＞ 成功"
success = true
rands = [
  { sides = 100, value = 35 },
  { sides = 100, value = 50 },
  { sides = 100, value = 100 },
  { sides = 100, value = 100 },
]

# 数式表記
[[ test ]]
game_system = "ArknightsFan"
input = "ORP(30+40,35-10,5+5)++5-3D"
output = "(ORP(30+40,35-10,5+5)++5-3D) ＞ ダイス数4, 判定値45 ＞ [35,50,100,100] ＞ 成功"
success = true
rands = [
  { sides = 100, value = 35 },
  { sides = 100, value = 50 },
  { sides = 100, value = 100 },
  { sides = 100, value = 100 },
]


#####################
### 増悪/中毒判定 ###
#####################
[[ test ]]
game_system = "ArknightsFan"
input = "--WORSENING"
output = "--WORSENING ＞ 末梢神経障害: 2 rounds"
rands = [
  { sides = 3, value = 1 },
  { sides = 6, value = 1 },
]

[[ test ]]
game_system = "ArknightsFan"
input = "--WORSENING"
output = "--WORSENING ＞ 内臓機能不全: 2 rounds"
rands = [
  { sides = 3, value = 2 },
  { sides = 6, value = 1 },
]

[[ test ]]
game_system = "ArknightsFan"
input = "--WORSENING"
output = "--WORSENING ＞ 精神症状: 2 rounds"
rands = [
  { sides = 3, value = 3 },
  { sides = 6, value = 1 },
]

[[ test ]]
game_system = "ArknightsFan"
input = "--WORSENING いろは"
output = "--WORSENING ＞ 精神症状: 2 rounds"
rands = [
  { sides = 3, value = 3 },
  { sides = 6, value = 1 },
]

[[ test ]]
game_system = "ArknightsFan"
input = "--ADDICTION"
output = "--ADDICTION ＞ 中枢神経障害"
rands = [
  { sides = 3, value = 1 },
]

[[ test ]]
game_system = "ArknightsFan"
input = "--ADDICTION"
output = "--ADDICTION ＞ 多臓器不全"
rands = [
  { sides = 3, value = 2 },
]

[[ test ]]
game_system = "ArknightsFan"
input = "--ADDICTION"
output = "--ADDICTION ＞ 急性ストレス反応"
rands = [
  { sides = 3, value = 3 },
]

